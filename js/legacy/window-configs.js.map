{"version":3,"file":"window-configs.js","sourceRoot":"","sources":["../../src/ts/legacy/window-configs.js"],"names":[],"mappings":"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","sourcesContent":["console.log('Window Configurations loaded');\r\n\r\n/**\r\n * Window-Konfigurationen\r\n *\r\n * Hier werden alle Fenster/Modals definiert.\r\n * Um ein neues Fenster hinzuzufügen, einfach einen neuen Eintrag hier anlegen!\r\n */\r\n(function () {\r\n    'use strict';\r\n\r\n    const windowConfigurations = [\r\n        {\r\n            id: 'finder-modal',\r\n            type: 'persistent',\r\n            programKey: 'programs.finder',\r\n            icon: './img/sucher.png',\r\n            closeButtonId: 'close-finder-modal',\r\n            metadata: {\r\n                initHandler: function () {\r\n                    // Create first Finder instance when modal opens if none exist\r\n                    if (\r\n                        window.FinderInstanceManager &&\r\n                        !window.FinderInstanceManager.hasInstances()\r\n                    ) {\r\n                        const inst = window.FinderInstanceManager.createInstance({\r\n                            title: 'Finder',\r\n                        });\r\n                        // Ensure visibility and UI sync (tab bar + content) after fresh open\r\n                        try {\r\n                            const active =\r\n                                inst && inst.instanceId\r\n                                    ? inst\r\n                                    : window.FinderInstanceManager.getActiveInstance?.();\r\n                            if (active && window.MultiInstanceIntegration) {\r\n                                // Show the active instance content\r\n                                window.MultiInstanceIntegration.showInstance(\r\n                                    'finder',\r\n                                    active.instanceId\r\n                                );\r\n                                // If available, refresh the tab UI\r\n                                const integ =\r\n                                    window.MultiInstanceIntegration.getIntegration?.('finder');\r\n                                integ?.tabManager?.addTab?.(active);\r\n\r\n                                // Force tab UI refresh to ensure tab is rendered\r\n                                if (integ?.tabManager?.controller?.refresh) {\r\n                                    integ.tabManager.controller.refresh();\r\n                                }\r\n                            }\r\n                        } catch (e) {\r\n                            console.warn('Finder init post-create sync failed:', e);\r\n                        }\r\n                    }\r\n                },\r\n                openHandler: function () {\r\n                    // On every open: ensure at least one Finder instance is available and visible\r\n                    if (\r\n                        window.FinderInstanceManager &&\r\n                        !window.FinderInstanceManager.hasInstances()\r\n                    ) {\r\n                        const inst = window.FinderInstanceManager.createInstance({\r\n                            title: 'Finder',\r\n                        });\r\n                        try {\r\n                            const activeId =\r\n                                (inst && inst.instanceId) ||\r\n                                window.FinderInstanceManager.getActiveInstance?.()?.instanceId;\r\n                            if (activeId && window.MultiInstanceIntegration) {\r\n                                window.MultiInstanceIntegration.showInstance('finder', activeId);\r\n                                const integ =\r\n                                    window.MultiInstanceIntegration.getIntegration?.('finder');\r\n                                if (\r\n                                    integ &&\r\n                                    integ.tabManager &&\r\n                                    typeof integ.tabManager.addTab === 'function'\r\n                                ) {\r\n                                    integ.tabManager.addTab(inst || { instanceId: activeId });\r\n                                }\r\n                                // Force tab UI refresh to ensure tab is rendered\r\n                                if (integ?.tabManager?.controller?.refresh) {\r\n                                    integ.tabManager.controller.refresh();\r\n                                }\r\n                            }\r\n                        } catch (e) {\r\n                            console.warn('Finder open post-create sync failed:', e);\r\n                        }\r\n                    }\r\n                },\r\n            },\r\n        },\r\n        {\r\n            id: 'launchpad-modal',\r\n            type: 'persistent',\r\n            programKey: 'programs.launchpad',\r\n            icon: './img/launchpad.png',\r\n            closeButtonId: 'close-launchpad-modal',\r\n            metadata: {\r\n                skipMenubarUpdate: true, // Don't update menubar when launchpad is focused\r\n                initHandler: function () {\r\n                    // Initialize Launchpad module if not already done\r\n                    if (window.LaunchpadSystem && !window.LaunchpadSystem.container) {\r\n                        const container = document.getElementById('launchpad-container');\r\n                        if (container) {\r\n                            window.LaunchpadSystem.init(container);\r\n                        }\r\n                    }\r\n                },\r\n            },\r\n        },\r\n        {\r\n            id: 'projects-modal',\r\n            type: 'persistent',\r\n            programKey: 'programs.projects',\r\n            icon: './img/sucher.png',\r\n            closeButtonId: 'close-projects-modal',\r\n        },\r\n        {\r\n            id: 'about-modal',\r\n            type: 'persistent',\r\n            programKey: 'programs.about',\r\n            icon: './img/profil.jpg',\r\n            closeButtonId: 'close-about-modal',\r\n        },\r\n        {\r\n            id: 'settings-modal',\r\n            type: 'persistent',\r\n            programKey: 'programs.settings',\r\n            icon: './img/settings.png',\r\n            closeButtonId: 'close-settings-modal',\r\n            metadata: {\r\n                initHandler: function () {\r\n                    // Initialize settings module if not already done\r\n                    if (window.SettingsSystem && !window.SettingsSystem.container) {\r\n                        const container = document.getElementById('settings-container');\r\n                        if (container) {\r\n                            window.SettingsSystem.init(container);\r\n                        }\r\n                    }\r\n                },\r\n            },\r\n        },\r\n        {\r\n            id: 'text-modal',\r\n            type: 'persistent',\r\n            programKey: 'programs.text',\r\n            icon: './img/notepad.png',\r\n            closeButtonId: 'close-text-modal',\r\n            metadata: {\r\n                initHandler: function () {\r\n                    // Primary: Create first Text Editor instance when modal opens if none exist\r\n                    if (\r\n                        window.TextEditorInstanceManager &&\r\n                        !window.TextEditorInstanceManager.hasInstances()\r\n                    ) {\r\n                        window.TextEditorInstanceManager.createInstance({\r\n                            title: 'Editor',\r\n                        });\r\n                    }\r\n                    // Fallback: Initialize old text editor module if instance manager not available\r\n                    else if (window.TextEditorSystem && !window.TextEditorSystem.container) {\r\n                        const container = document.getElementById('text-editor-container');\r\n                        if (container) {\r\n                            window.TextEditorSystem.init(container);\r\n                        }\r\n                    }\r\n                },\r\n            },\r\n        },\r\n        {\r\n            id: 'image-modal',\r\n            type: 'persistent',\r\n            programKey: 'programs.photos',\r\n            icon: './img/photos-app-icon.svg',\r\n            closeButtonId: 'close-image-modal',\r\n        },\r\n        {\r\n            id: 'program-info-modal',\r\n            type: 'transient',\r\n            programKey: 'programs.default',\r\n            icon: './img/sucher.png',\r\n            closeButtonId: 'close-program-info-modal',\r\n        },\r\n        {\r\n            id: 'terminal-modal',\r\n            type: 'persistent',\r\n            programKey: 'programs.terminal',\r\n            icon: './img/terminal.png',\r\n            closeButtonId: 'close-terminal-modal',\r\n            metadata: {\r\n                initHandler: function () {\r\n                    // Primary: Create first Terminal instance when modal opens if none exist\r\n                    if (\r\n                        window.TerminalInstanceManager &&\r\n                        !window.TerminalInstanceManager.hasInstances()\r\n                    ) {\r\n                        window.TerminalInstanceManager.createInstance({\r\n                            title: 'Terminal',\r\n                        });\r\n                    }\r\n                    // Fallback: Initialize old terminal module if instance manager not available\r\n                    else if (window.TerminalSystem && !window.TerminalSystem.container) {\r\n                        const container = document.getElementById('terminal-container');\r\n                        if (container) {\r\n                            window.TerminalSystem.init(container);\r\n                        }\r\n                    }\r\n                },\r\n            },\r\n        },\r\n    ];\r\n\r\n    // Automatisch alle Fenster registrieren wenn WindowManager verfügbar ist\r\n    if (window.WindowManager) {\r\n        window.WindowManager.registerAll(windowConfigurations);\r\n        console.log(`Registered ${windowConfigurations.length} windows`);\r\n    } else {\r\n        // Fallback: Warte auf WindowManager\r\n        document.addEventListener('DOMContentLoaded', () => {\r\n            if (window.WindowManager) {\r\n                window.WindowManager.registerAll(windowConfigurations);\r\n                console.log(`Registered ${windowConfigurations.length} windows (delayed)`);\r\n            }\r\n        });\r\n    }\r\n\r\n    // Export für Zugriff von außen\r\n    window.windowConfigurations = windowConfigurations;\r\n})();\r\n"]}