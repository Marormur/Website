{"version":3,"file":"settings.js","sourceRoot":"","sources":["../src/ts/settings.ts"],"names":[],"mappings":"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","sourcesContent":["/**\n * settings.ts\n * Settings Module - Inline settings UI with theme and language preferences\n */\n\nconsole.log('Settings Module loaded');\n\n(() => {\n    'use strict';\n\n    // ===== Types =====\n\n    type SectionName = 'general' | 'display' | 'language';\n\n    interface SettingsSystemType {\n        currentSection: SectionName;\n        container: HTMLElement | null;\n        init(containerOrId: HTMLElement | string): void;\n        render(): void;\n        attachListeners(): void;\n        syncThemePreference(): void;\n        syncLanguagePreference(): void;\n        showSection(section: SectionName): void;\n        destroy(): void;\n    }\n\n    // ===== Settings System Implementation =====\n\n    const SettingsSystem: SettingsSystemType = {\n        currentSection: 'general',\n        container: null,\n\n        /**\n         * Initialize settings module in container\n         */\n        init(containerOrId: HTMLElement | string): void {\n            const container =\n                typeof containerOrId === 'string'\n                    ? document.getElementById(containerOrId)\n                    : containerOrId;\n\n            if (!container) {\n                console.error('Settings container not found:', containerOrId);\n                return;\n            }\n\n            this.container = container;\n            this.render();\n            this.attachListeners();\n            this.syncThemePreference();\n            this.syncLanguagePreference();\n            this.showSection('general');\n        },\n\n        /**\n         * Render settings UI\n         */\n        render(): void {\n            if (!this.container) return;\n\n            this.container.innerHTML = `\n                <div class=\"flex dialog-content settings-panel rounded-b-xl overflow-hidden h-full\">\n                    <!-- Linke Seitenleiste -->\n                    <div class=\"w-48 bg-gray-100 dark:bg-gray-700 p-4 space-y-1 overflow-auto\">\n                        <button type=\"button\" class=\"w-full text-left cursor-pointer px-2 py-2 hover:bg-gray-200 dark:hover:bg-gray-600 rounded no-select\"\n                            data-action=\"settings:showSection\"\n                            data-section=\"general\"\n                            data-settings-page=\"general\"\n                            data-i18n=\"settingsPage.nav.general\">\n                            üë§ Allgemein\n                        </button>\n                        <button type=\"button\" class=\"w-full text-left cursor-pointer px-2 py-2 hover:bg-gray-200 dark:hover:bg-gray-600 rounded no-select\"\n                            data-action=\"settings:showSection\"\n                            data-section=\"display\"\n                            data-settings-page=\"display\"\n                            data-i18n=\"settingsPage.nav.display\">\n                            üñ•Ô∏è Darstellung\n                        </button>\n                        <button type=\"button\" class=\"w-full text-left cursor-pointer px-2 py-2 hover:bg-gray-200 dark:hover:bg-gray-600 rounded no-select\"\n                            data-action=\"settings:showSection\"\n                            data-section=\"language\"\n                            data-settings-page=\"language\"\n                            data-i18n=\"settingsPage.nav.language\">\n                            üåê Sprache\n                        </button>\n                    </div>\n                    <!-- Rechte Hauptansicht -->\n                    <div class=\"flex-1 p-6 overflow-auto text-gray-800 dark:text-gray-200\">\n                        <!-- Sektion: Allgemein -->\n                        <div id=\"settings-general\" class=\"\">\n                            <div class=\"flex flex-col items-start text-gray-700 dark:text-gray-200 mt-8 w-full space-y-4\">\n                                <img src=\"./img/profil.jpg\" alt=\"Bild\" class=\"w-24 h-24 object-contain mb-2\">\n                                <h2 class=\"text-xl font-semibold\" data-i18n=\"settingsPage.general.name\">Marvin Temmen</h2>\n                                <p class=\"text-sm\" data-i18n=\"settingsPage.general.birth\">M√§rz 1999</p>\n                                <div class=\"bg-gray-200 dark:bg-gray-700 rounded-lg p-4 w-full grid grid-cols-1 sm:grid-cols-2 gap-y-2 gap-x-8\">\n                                    <div class=\"text-gray-600 dark:text-gray-300\" data-i18n=\"settingsPage.general.locationLabel\">Wohnort</div>\n                                    <div class=\"text-gray-800 dark:text-gray-100\" data-i18n=\"settingsPage.general.locationValue\">Deutschland</div>\n                                    <div class=\"text-gray-600 dark:text-gray-300\" data-i18n=\"settingsPage.general.jobLabel\">Beruf</div>\n                                    <div class=\"text-gray-800 dark:text-gray-100\" data-i18n=\"settingsPage.general.jobValue\">Softwareentwickler</div>\n                                </div>\n                            </div>\n                        </div>\n                        <!-- Sektion: Darstellung -->\n                        <div id=\"settings-display\" class=\"hidden\">\n                            <div class=\"flex flex-col gap-6 mt-4 w-full\">\n                                <div>\n                                    <h2 class=\"text-lg font-semibold text-gray-800 dark:text-gray-100\"\n                                        data-i18n=\"settingsPage.display.title\">Darstellung</h2>\n                                    <p class=\"text-sm text-gray-600 dark:text-gray-300 mt-1\"\n                                        data-i18n=\"settingsPage.display.description\">\n                                        Passe das visuelle Erscheinungsbild der Oberfl√§che an.\n                                    </p>\n                                </div>\n                                <fieldset class=\"bg-gray-100 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg p-4 space-y-3\">\n                                    <legend class=\"text-sm font-medium text-gray-700 dark:text-gray-200 px-1\"\n                                        data-i18n=\"settingsPage.display.legend\">Darkmode</legend>\n                                    <label class=\"flex items-center gap-3 cursor-pointer select-none\">\n                                        <input type=\"radio\" name=\"theme-mode\" value=\"system\" class=\"h-4 w-4 text-blue-600 focus:ring-blue-500\">\n                                        <div>\n                                            <span class=\"block text-sm font-medium text-gray-800 dark:text-gray-100\"\n                                                data-i18n=\"settingsPage.display.options.system.label\">System</span>\n                                            <span class=\"block text-xs text-gray-600 dark:text-gray-300\"\n                                                data-i18n=\"settingsPage.display.options.system.description\">Folgt den aktuellen Systemeinstellungen.</span>\n                                        </div>\n                                    </label>\n                                    <label class=\"flex items-center gap-3 cursor-pointer select-none\">\n                                        <input type=\"radio\" name=\"theme-mode\" value=\"light\" class=\"h-4 w-4 text-blue-600 focus:ring-blue-500\">\n                                        <div>\n                                            <span class=\"block text-sm font-medium text-gray-800 dark:text-gray-100\"\n                                                data-i18n=\"settingsPage.display.options.light.label\">Hell</span>\n                                            <span class=\"block text-xs text-gray-600 dark:text-gray-300\"\n                                                data-i18n=\"settingsPage.display.options.light.description\">Bleibt immer im hellen Erscheinungsbild.</span>\n                                        </div>\n                                    </label>\n                                    <label class=\"flex items-center gap-3 cursor-pointer select-none\">\n                                        <input type=\"radio\" name=\"theme-mode\" value=\"dark\" class=\"h-4 w-4 text-blue-600 focus:ring-blue-500\">\n                                        <div>\n                                            <span class=\"block text-sm font-medium text-gray-800 dark:text-gray-100\"\n                                                data-i18n=\"settingsPage.display.options.dark.label\">Dunkel</span>\n                                            <span class=\"block text-xs text-gray-600 dark:text-gray-300\"\n                                                data-i18n=\"settingsPage.display.options.dark.description\">Bleibt immer im dunklen Erscheinungsbild.</span>\n                                        </div>\n                                    </label>\n                                </fieldset>\n                            </div>\n                        </div>\n                        <!-- Sektion: Sprache -->\n                        <div id=\"settings-language\" class=\"hidden\">\n                            <div class=\"flex flex-col gap-6 mt-4 w-full\">\n                                <div>\n                                    <h2 class=\"text-lg font-semibold text-gray-800 dark:text-gray-100\"\n                                        data-i18n=\"settingsPage.language.title\">Sprache</h2>\n                                    <p class=\"text-sm text-gray-600 dark:text-gray-300 mt-1\"\n                                        data-i18n=\"settingsPage.language.description\">\n                                        W√§hle, in welcher Sprache die Oberfl√§che angezeigt wird.\n                                    </p>\n                                </div>\n                                <fieldset class=\"bg-gray-100 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg p-4 space-y-3\">\n                                    <legend class=\"text-sm font-medium text-gray-700 dark:text-gray-200 px-1\"\n                                        data-i18n=\"settingsPage.language.legend\">Bevorzugte Sprache</legend>\n                                    <label class=\"flex items-center gap-3 cursor-pointer select-none\">\n                                        <input type=\"radio\" name=\"language-preference\" value=\"system\"\n                                            class=\"h-4 w-4 text-blue-600 focus:ring-blue-500\">\n                                        <div>\n                                            <span class=\"block text-sm font-medium text-gray-800 dark:text-gray-100\"\n                                                data-i18n=\"settingsPage.language.options.system.label\">System</span>\n                                            <span class=\"block text-xs text-gray-600 dark:text-gray-300\"\n                                                data-i18n=\"settingsPage.language.options.system.description\">Verwendet automatisch die Sprache deines Systems.</span>\n                                        </div>\n                                    </label>\n                                    <label class=\"flex items-center gap-3 cursor-pointer select-none\">\n                                        <input type=\"radio\" name=\"language-preference\" value=\"de\"\n                                            class=\"h-4 w-4 text-blue-600 focus:ring-blue-500\">\n                                        <div>\n                                            <span class=\"block text-sm font-medium text-gray-800 dark:text-gray-100\"\n                                                data-i18n=\"settingsPage.language.options.de.label\">Deutsch</span>\n                                            <span class=\"block text-xs text-gray-600 dark:text-gray-300\"\n                                                data-i18n=\"settingsPage.language.options.de.description\">Zeigt Inhalte immer auf Deutsch.</span>\n                                        </div>\n                                    </label>\n                                    <label class=\"flex items-center gap-3 cursor-pointer select-none\">\n                                        <input type=\"radio\" name=\"language-preference\" value=\"en\"\n                                            class=\"h-4 w-4 text-blue-600 focus:ring-blue-500\">\n                                        <div>\n                                            <span class=\"block text-sm font-medium text-gray-800 dark:text-gray-100\"\n                                                data-i18n=\"settingsPage.language.options.en.label\">Englisch</span>\n                                            <span class=\"block text-xs text-gray-600 dark:text-gray-300\"\n                                                data-i18n=\"settingsPage.language.options.en.description\">Zeigt Inhalte immer auf Englisch.</span>\n                                        </div>\n                                    </label>\n                                </fieldset>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            `;\n\n            // Apply i18n translations\n            const appI18n = (window as Window & { appI18n?: { applyTranslations(el: HTMLElement): void } }).appI18n;\n            if (appI18n?.applyTranslations) {\n                appI18n.applyTranslations(this.container);\n            }\n        },\n\n        /**\n         * Attach event listeners\n         */\n        attachListeners(): void {\n            if (!this.container) return;\n\n            // Theme preference change listeners\n            const themeRadios = this.container.querySelectorAll<HTMLInputElement>('input[name=\"theme-mode\"]');\n            themeRadios.forEach(radio => {\n                radio.addEventListener('change', () => {\n                    if (!radio.checked) return;\n\n                    const theme = radio.value;\n                    // Call global API if available\n                    const API = (window as Window & { API?: { theme?: { setThemePreference(mode: string): void } } }).API;\n                    if (API?.theme?.setThemePreference) {\n                        API.theme.setThemePreference(theme);\n                    } else {\n                        // Fallback to ThemeSystem\n                        const ThemeSystem = (window as Window & { ThemeSystem?: { setThemePreference(mode: string): void } }).ThemeSystem;\n                        if (ThemeSystem?.setThemePreference) {\n                            ThemeSystem.setThemePreference(theme);\n                        }\n                    }\n                });\n            });\n\n            // Language preference change listeners\n            const languageRadios = this.container.querySelectorAll<HTMLInputElement>('input[name=\"language-preference\"]');\n            languageRadios.forEach(radio => {\n                radio.addEventListener('change', () => {\n                    if (!radio.checked) return;\n\n                    const lang = radio.value;\n                    // Call global API if available\n                    const API = (window as Window & { API?: { i18n?: { setLanguagePreference(lang: string): void } } }).API;\n                    if (API?.i18n?.setLanguagePreference) {\n                        API.i18n.setLanguagePreference(lang);\n                    } else {\n                        // Fallback to appI18n\n                        const appI18n = (window as Window & { appI18n?: { setLanguagePreference(lang: string): void } }).appI18n;\n                        if (appI18n?.setLanguagePreference) {\n                            appI18n.setLanguagePreference(lang);\n                        }\n                    }\n                });\n            });\n        },\n\n        /**\n         * Sync theme preference from global state\n         */\n        syncThemePreference(): void {\n            if (!this.container) return;\n\n            let preference = 'system';\n            const API = (window as Window & { API?: { theme?: { getThemePreference(): string } } }).API;\n            const ThemeSystem = (window as Window & { ThemeSystem?: { getThemePreference(): string } }).ThemeSystem;\n\n            if (API?.theme?.getThemePreference) {\n                preference = API.theme.getThemePreference();\n            } else if (ThemeSystem?.getThemePreference) {\n                preference = ThemeSystem.getThemePreference();\n            }\n\n            const themeRadios = this.container.querySelectorAll<HTMLInputElement>('input[name=\"theme-mode\"]');\n            themeRadios.forEach(radio => {\n                radio.checked = radio.value === preference;\n            });\n        },\n\n        /**\n         * Sync language preference from global state\n         */\n        syncLanguagePreference(): void {\n            if (!this.container) return;\n\n            let preference = 'system';\n            const API = (window as Window & { API?: { i18n?: { getLanguagePreference(): string } } }).API;\n            const appI18n = (window as Window & { appI18n?: { getLanguagePreference(): string } }).appI18n;\n\n            if (API?.i18n?.getLanguagePreference) {\n                preference = API.i18n.getLanguagePreference();\n            } else if (appI18n?.getLanguagePreference) {\n                preference = appI18n.getLanguagePreference();\n            }\n\n            const languageRadios = this.container.querySelectorAll<HTMLInputElement>('input[name=\"language-preference\"]');\n            languageRadios.forEach(radio => {\n                radio.checked = radio.value === preference;\n            });\n        },\n\n        /**\n         * Show specific settings section\n         */\n        showSection(section: SectionName): void {\n            if (!this.container) return;\n\n            this.currentSection = section;\n\n            // Hide all sections\n            const sections: SectionName[] = ['general', 'display', 'language'];\n            sections.forEach(name => {\n                const el = this.container?.querySelector(`#settings-${name}`);\n                if (el) {\n                    el.classList.add('hidden');\n                }\n            });\n\n            // Show target section\n            const target = this.container.querySelector(`#settings-${section}`);\n            if (target) {\n                target.classList.remove('hidden');\n            }\n\n            // Update nav highlighting\n            const navItems = this.container.querySelectorAll('[data-action=\"settings:showSection\"]');\n            navItems.forEach(item => {\n                const itemSection = item.getAttribute('data-section');\n                if (itemSection === section) {\n                    item.classList.add(\n                        'bg-white',\n                        'dark:bg-gray-600',\n                        'text-gray-900',\n                        'dark:text-gray-100',\n                        'font-medium'\n                    );\n                } else {\n                    item.classList.remove(\n                        'bg-white',\n                        'dark:bg-gray-600',\n                        'text-gray-900',\n                        'dark:text-gray-100',\n                        'font-medium'\n                    );\n                }\n            });\n        },\n\n        /**\n         * Destroy settings module\n         */\n        destroy(): void {\n            if (this.container) {\n                this.container.innerHTML = '';\n                this.container = null;\n            }\n        },\n    };\n\n    // Export to global scope\n    (window as Window & { SettingsSystem: SettingsSystemType }).SettingsSystem = SettingsSystem;\n\n    // Auto-init if container exists on load\n    if (document.readyState === 'loading') {\n        document.addEventListener('DOMContentLoaded', () => {\n            const container = document.getElementById('settings-container');\n            if (container) {\n                SettingsSystem.init(container);\n            }\n        });\n    } else {\n        const container = document.getElementById('settings-container');\n        if (container) {\n            SettingsSystem.init(container);\n        }\n    }\n})();\n\nexport {};\n"]}